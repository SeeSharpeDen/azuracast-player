<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="https://wingless.cc/radio" property="og:url" />
    <meta content="https://server1.wingless.cc:2087/listen/winglessradio/radio.mp3" property="og:audio" />
    <title>Wingless Radio</title>
    <link rel="stylesheet" href="./assets/normalize.css">
    <link rel="stylesheet" href="./assets/style.css">
</head>

<body>
    <div id="stage">
        <img class="logo kill" src="assets/graphics/branding/ssd_radio_s_masked.png">
        <canvas id="canvas"></canvas>
    </div>
    <div id="player" class="box">
        <div class="album-art"><img src="https://server1.wingless.cc:2087/static/uploads/album_art.1657710906.jpg">
        </div>
        <div class="stack">
            <div class="track-details">
                <h2 id="track-name">Wingless.cc</h2>
                <p id="artist-name">Loading Radio</p>
            </div>
            <p class="blurb">There's <span id="listeners">nobody</span> listening.</p>
            <div class="controls">
                <button id="play-btn" onclick="Player.toggle()">
                    <img class="play-icon" src="./assets/graphics/music-controls.svg#play" alt="⏯️">
                    <img class="pause-icon" src="./assets/graphics/music-controls.svg#pause" alt="⏯️" hidden>
                </button>
                <span class="volume">
                    <img src="./assets/graphics/music-controls.svg#volume" style="margin-right: var(--gap);">
                    <input type="range" id="volume-slider" min="0" max="100"
                        oninput="Player.setVolume(this.value / 100)">
                </span>
                <button id="settings-btn" onclick="show_settings()">
                    <img class="pause-icon" src="./assets/graphics/music-controls.svg#settings" alt="⚙️">
                </button>
            </div>
        </div>
        <div class="stack" id="settings" style="display: none;">
            <h2>Settings</h2>
            <label for="radio-select">Station</label>
            <select id="radio-select" onchange="Radio.changeStation(this.value);">
            </select>
            <label for="visualizer">Visualiser</label>
            <select id="visualiser" onchange="Renderer.set_visualiser(this.value)">
                <option value="RadialWave">Radial</option>
                <option value="Starfield">Starfield</option>
                <option value="DVD">DVD</option>
                <option value="Spectrum">Debug Spectrum</option>
                <option value="null">Off</option>
            </select>
            <button onclick="hide_settings()">Close</button>
        </div>
    </div>
    <!-- Chromatic Aberration Effect, affectionately named "kill" -->
    <svg width="0" height="0">
        <filter id="kill">
            <feColorMatrix type="matrix" result="red_" values="2 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 1 0" />
            <feColorMatrix type="matrix" in="SourceGraphic" result="blue_"
                values="0 0 0 0 0  0 2 0 0 0  0 1 1 1 0  0 0 0 1 0" />
            <feOffset id="kill_red" in="red_" dx="3" dy="0" result="red" />
            <feOffset id="kill_blue" in="blue_" dx="-3" dy="0" result="blue" />
            <feBlend mode="overlay" in="red" in2="blue" />
            <feBlend mode="normal" in="SourceGraphic" />
        </filter>
    </svg>
</body>


<script src="./assets/player.js"></script>
<script src="./assets/radio.js"></script>
<script src="./assets/visualizer.js"></script>
<script>
    function hide_settings() {
        document.getElementById("settings").style.display = "none";
        document.getElementById("settings-btn").style.display = "";
    }
    function show_settings() {
        document.getElementById("settings-btn").style.display = "none";
        document.getElementById("settings").style.display = "";
    }
</script>

</html>